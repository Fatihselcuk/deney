<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Deney</title>
    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-video-button-response@1.1.3"></script>
    <link rel="stylesheet" href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css">
    <style>
        body { font-family: Arial, sans-serif; }
        .jspsych-content { max-width: 800px; }
        video { max-width: 100%; margin-bottom: 20px; }
        .jspsych-btn { font-size: 18px; padding: 12px 30px; margin-top: 10px; }
    </style>
</head>
<body>
<script>

const jsPsych = initJsPsych({
    on_finish: function() {
        jsPsych.data.get().localSave('csv', 'deney_verisi.csv');
    }
});

const videolar = ["video1.mp4", "video2.mp4", "video3.mp4"];
const secilenVideo = jsPsych.randomization.sampleWithoutReplacement(videolar, 1)[0];

const hosgeldin = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `
        <h2>Araştırmaya Hoş Geldiniz</h2>
        <p style="font-size:17px;line-height:1.7;max-width:600px;margin:auto;">
            Bu araştırmada size kısa bir video izletilecek ve ardından birkaç soru sorulacaktır.<br><br>
            Katılımınız tamamen gönüllülük esasına dayanmakta ve verileriniz anonim tutulacaktır.
        </p>
    `,
    choices: ["Başla"]
};

const video = {
    type: jsPsychVideoButtonResponse,
    stimulus: [secilenVideo],
    choices: ["Devam Et"],
    response_allowed_while_playing: false,
    width: 800,
    data: { video_gosterilen: secilenVideo }
};

const okul_num = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Okul numaranızı giriniz", name: "okul_num", required: true }],
    button_label: "Onaylıyorum"
};

const yas = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Yaşınızı giriniz", name: "yas", required: true }],
    button_label: "Onaylıyorum"
};

const cinsiyet = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "Cinsiyetiniz",
        name: "cinsiyet",
        options: ["Kadın", "Erkek", "Belirtmek İstemiyorum"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const egitim = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "Eğitim durumunuz",
        name: "egitim",
        options: ["Lise", "Üniversite", "Yüksek Lisans", "Doktora"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const gercekcilik = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "İzlediğiniz görüntüleri ne kadar gerçekçi buldunuz?",
        name: "gercekcilik",
        options: ["1", "2", "3", "4", "5"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const failceza = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "Faile sizce ne kadar ceza verilmeli?",
        name: "failceza",
        options: ["1 yıldan az", "1-5 yıl arası", "5 yıldan fazla"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const suc_magdur = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Daha önce suç mağduru oldunuz mu? Olduysanız suçun türü nedir?. Eğer olmadıysanız boşluğa yok yazınız.", name: "suc_magdur", required: true }],
    button_label: "Onaylıyorum"
};

const suc_tanik = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Daha önce suça tanık oldunuz mu? Olduysanız suçun türü nedir?. Eğer olmadıysanız boşluğa yok yazınız.", name: "suc_tanik", required: true }],
    button_label: "Onaylıyorum"
};

const etkileme = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "İzlediğiniz görüntülerin sizi ne kadar etkilediğini puanlayınız? 1- En az 7 - En çok şeklinde cevaplayınız",
        name: "etkileme",
        options: ["1", "2", "3", "4", "5", "6", "7"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const duygusallik = {
    type: jsPsychSurveyMultiChoice,
    questions: [{
        prompt: "İzlediğiniz görüntünün ne kadar duygusallık içerdiğini puanlayınız. 1- En az 7 - En çok şeklinde cevaplayınız",
        name: "duygusallik",
        options: ["1", "2", "3", "4", "5", "6", "7"],
        required: true
    }],
    button_label: "Onaylıyorum"
};

const olay1 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Görüntülerde ne oldu?", name: "olay1", required: true }],
    button_label: "Onaylıyorum"
};

const olay2 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Olayı kim başlattı?", name: "olay2", required: true }],
    button_label: "Onaylıyorum"
};

const olay3 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Olaya müdahale eden kimse oldu mu?", name: "olay3", required: true }],
    button_label: "Onaylıyorum"
};

const olay4 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Olay nasıl sonlandı?", name: "olay4", required: true }],
    button_label: "Onaylıyorum"
};

const fail1 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Bu olayda sizce fail kim?", name: "fail1", required: true }],
    button_label: "Onaylıyorum"
};

const fail2 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Failin eşgalini verebilir misiniz? Failin fiziksel özelliklerini anlatır mısınız?", name: "fail2", required: true }],
    button_label: "Onaylıyorum"
};

const fail3 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Failin teşhisini kolaylaştıracak belirgin bir özelliği var mıydı? Varsa neydi?", name: "fail3", required: true }],
    button_label: "Onaylıyorum"
};

const fail4 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Fail nasıl giyinmişti?", name: "fail4", required: true }],
    button_label: "Onaylıyorum"
};

const magdur1 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Bu olayda sizce mağdur kimdir?", name: "magdur1", required: true }],
    button_label: "Onaylıyorum"
};

const magdur2 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Mağdurun fiziksel özelliklerini anlatır mısınız?", name: "magdur2", required: true }],
    button_label: "Onaylıyorum"
};

const magdur3 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Mağdurun teşhisini kolaylaştıracak belirgin bir özelliği var mıydı? Varsa neydi?", name: "magdur3", required: true }],
    button_label: "Onaylıyorum"
};

const magdur4 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Mağdur ne giyinmişti?", name: "magdur4", required: true }],
    button_label: "Onaylıyorum"
};

const cevresel1 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Olaya tanıklık eden başka kimler vardı? Bu kişilere ait özellikleri anlatır mısınız?", name: "cevresel1", required: true }],
    button_label: "Onaylıyorum"
};

const cevresel2 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Olay anında mekandaki diğer insanlar neler yapıyorlardı?", name: "cevresel2", required: true }],
    button_label: "Onaylıyorum"
};

const cevresel3 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Mekana ilişkin hatırladıklarınızı anlatır mısınız?", name: "cevresel3", required: true }],
    button_label: "Onaylıyorum"
};

const cevresel4 = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "Masada neler vardı?:", name: "cevresel4", required: true }],
    button_label: "Onaylıyorum"
};
    
const email = {
    type: jsPsychSurveyText,
    questions: [{ prompt: "E-posta adresinizi giriniz:", name: "email", required: true }],
    button_label: "Onaylıyorum"
};

const bitis = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `
        <h2>Teşekkürler!</h2>
        <p style="font-size:17px;">Katılımınız için teşekkür ederiz. Telefonunuza ya da bilgisayarınıza kaydedilen deney çıktı dosyasını eildirim@gmail.com adresine adınızı ve soyadınızı da yazarak göndermeniz rica olunur."</p>
    `,
    choices: ["Bitir"]
};

jsPsych.run([
    hosgeldin, video,
    okul_num, email, yas, cinsiyet, egitim,
    gercekcilik, failceza,
    suc_magdur, suc_tanik,
    etkileme, duygusallik,
    olay1, olay2, olay3, olay4,
    fail1, fail2, fail3, fail4,
    magdur1, magdur2, magdur3, magdur4,
    cevresel1, cevresel2, cevresel3, cevresel4,
    bitis
]);

</script>
</body>
</html>
